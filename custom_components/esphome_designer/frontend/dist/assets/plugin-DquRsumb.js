const z=(t,c,{getColorStyle:e})=>{const o=c.props||{},d=o.color||"black";let s=o.size||32,a=o.font_size||16,n=o.label_font_size||12;const i=o.unit||"°C",p=o.show_label!==!1,f=o.precision??1;let h=22.5;if(o.fit_icon_to_frame){const x=(c.height||60)-4;s=Math.round(x*.45),a=Math.round(x*.25),n=Math.round(x*.15),s=Math.max(8,s),a=Math.max(8,a),n=Math.max(6,n)}if(!o.is_local_sensor&&c.entity_id&&window.AppState&&window.AppState.entityStates){const l=window.AppState.entityStates[c.entity_id];if(l&&l.state!==void 0){const x=parseFloat(l.state);isNaN(x)||(h=x)}}let _;h<=10?_="F0E4C":h<=25?_="F050F":_="F10C2";const $=983040+parseInt(_.slice(1),16),m=String.fromCodePoint($);t.style.display="flex",t.style.flexDirection="column",t.style.alignItems="center",t.style.justifyContent="center",t.style.color=e(d);const u=document.createElement("div");u.textContent=m,u.style.fontSize=`${s}px`,u.style.fontFamily="MDI, system-ui, -apple-system, BlinkMacSystemFont, sans-serif",u.style.lineHeight="1",t.appendChild(u);const r=document.createElement("div");r.style.fontSize=`${a}px`,r.style.fontWeight="500",r.style.marginTop="2px";let b=h;if(i==="°F"&&(b=h*9/5+32),r.textContent=b.toFixed(f)+i,t.appendChild(r),p){const l=document.createElement("div");l.style.fontSize=`${n}px`,l.style.opacity="0.7",l.style.marginTop="1px",l.textContent="Temperature",t.appendChild(l)}},E={id:"ondevice_temperature",name:"Temperature",category:"SHT4x",defaults:{width:60,height:60,size:32,font_size:16,label_font_size:10,color:"black",unit:"°C",show_label:!0,precision:1,fit_icon_to_frame:!0,is_local_sensor:!0},render:z,exportLVGL:(t,{common:c,convertColor:e,getLVGLFont:o,profile:d})=>{const s=t.props||{},a=s.is_local_sensor===!0||s.is_local_sensor!==!1&&!t.entity_id;let n="onboard_temperature";a?d.features&&(n=d.features.sht4x?"sht4x_temperature":d.features.sht3x?"sht3x_temperature":d.features.shtc3?"shtc3_temperature":"onboard_temperature"):(n=(t.entity_id||"").replace(/[^a-zA-Z0-9_]/g,"_"),n||(n="onboard_temperature"));const i=e(s.color||"black"),p=parseInt(s.size||32,10),f=parseInt(s.font_size||16,10),h=parseInt(s.label_font_size||10,10),_=s.unit||"°C",$=d.features&&(d.features.sht4x||d.features.sht3x||d.features.shtc3),m=a&&$&&n!=="onboard_temperature"||!!t.entity_id;if(!m)return{obj:{...c,bg_opa:"TRANSP",border_width:0,widgets:[{label:{width:parseInt(s.size||32,10)+10,height:parseInt(s.size||32,10)+4,align:"TOP_MID",text:"\\U000F050F",text_font:o("Material Design Icons",parseInt(s.size||32,10),400),text_color:e(s.color||"black")}},{label:{width:"100%",height:parseInt(s.font_size||16,10)+6,align:"TOP_MID",y:parseInt(s.size||32,10)+2,text:`--${s.unit||"°C"}`,text_font:o("Roboto",parseInt(s.font_size||16,10),400),text_color:e(s.color||"black"),text_align:"CENTER"}},...s.show_label?[{label:{width:"100%",height:parseInt(s.label_font_size||10,10)+4,align:"BOTTOM_MID",text:'"Temperature"',text_font:o("Roboto",parseInt(s.label_font_size||10,10),400),text_color:e(s.color||"black"),text_align:"CENTER",opa:180}}]:[]]}};let u=`!lambda |-
`;m&&(u+=`          if (id(${n}).has_state()) {
`,u+=`            float t = id(${n}).state;
`,u+=`            if (t <= 10) return "\\U000F0E4C";
`,u+=`            if (t <= 25) return "\\U000F050F";
`,u+=`            return "\\U000F10C2";
`,u+=`          }
`,u+='          return "\\U000F050F";');let r=`!lambda |-
`;if(m){r+=`          if (id(${n}).has_state()) {
`;let l=`id(${n}).state`;_==="°F"&&(l=`(id(${n}).state * 9.0 / 5.0) + 32.0`),r+=`            return str_sprintf("%.1f${_}", ${l}).c_str();
`,r+=`          }
`,r+=`          return "--${_}";`}const b=[{label:{width:p+10,height:p+4,align:"TOP_MID",text:u,text_font:o("Material Design Icons",p,400),text_color:i}},{label:{width:"100%",height:f+6,align:"TOP_MID",y:p+2,text:r,text_font:o("Roboto",f,400),text_color:i,text_align:"CENTER"}}];return s.show_label&&b.push({label:{width:"100%",height:h+4,align:"BOTTOM_MID",text:'"Temperature"',text_font:o("Roboto",h,400),text_color:i,text_align:"CENTER",opa:180}}),{obj:{...c,bg_opa:"TRANSP",border_width:0,widgets:b}}},collectRequirements:(t,c)=>{const{trackIcon:e,addFont:o}=c,d=t.props||{},s=parseInt(d.size||32,10),a=parseInt(d.font_size||16,10),n=parseInt(d.label_font_size||10,10);o("Material Design Icons",400,s),o("Roboto",400,a),d.show_label&&o("Roboto",400,n),["F0E4C","F050F","F10C2"].forEach(i=>e(i,s))},export:(t,c)=>{const{lines:e,getColorConst:o,getCondProps:d,getConditionCheck:s,addFont:a,profile:n}=c,i=t.props||{},p=o(i.color||"black"),f=i.unit||"°C",h=i.size||32,_=i.font_size||16,$=a("Material Design Icons",400,h),m=a("Roboto",400,_),u=i.is_local_sensor===!0||i.is_local_sensor!==!1&&!t.entity_id;let r="onboard_temperature";u?n.features&&(r=n.features.sht4x?"sht4x_temperature":n.features.sht3x?"sht3x_temperature":n.features.shtc3?"shtc3_temperature":"onboard_temperature"):(r=(t.entity_id||"").replace(/[^a-zA-Z0-9_]/g,"_"),r||(r="onboard_temperature")),e.push(`        // widget:ondevice_temperature id:${t.id} type:ondevice_temperature x:${t.x} y:${t.y} w:${t.width} h:${t.height} unit:${f} local:${u} ent:${t.entity_id||""} ${d(t)}`);const b=s(t);b&&e.push(`        ${b}`);const l=`${t.x} + ${t.width} / 2`,x=`${t.y} + ${Math.round(h/2)}`,T=n.features&&(n.features.sht4x||n.features.sht3x||n.features.shtc3),g=u&&T&&r!=="onboard_temperature"||!!t.entity_id;if(g?(e.push(`        if (id(${r}).has_state()) {`),e.push(`          if (id(${r}).state <= 10) {`),e.push(`            it.printf(${l}, ${x}, id(${$}), ${p}, TextAlign::CENTER, "\\U000F0E4C");`),e.push(`          } else if (id(${r}).state <= 25) {`),e.push(`            it.printf(${l}, ${x}, id(${$}), ${p}, TextAlign::CENTER, "\\U000F050F");`),e.push("          } else {"),e.push(`            it.printf(${l}, ${x}, id(${$}), ${p}, TextAlign::CENTER, "\\U000F10C2");`),e.push("          }"),e.push("        } else {"),e.push(`          it.printf(${l}, ${x}, id(${$}), ${p}, TextAlign::CENTER, "\\U000F050F");`),e.push("        }")):e.push(`          it.printf(${l}, ${x}, id(${$}), ${p}, TextAlign::CENTER, "\\U000F050F");`),g){let y=`id(${r}).state`;f==="°F"&&(y=`(id(${r}).state * 9.0 / 5.0) + 32.0`),e.push(`        if (id(${r}).has_state()) {`),e.push(`          it.printf(${l}, ${t.y} + ${h+5}, id(${m}), ${p}, TextAlign::TOP_CENTER, "%.1f${f}", ${y});`),e.push("        } else {"),e.push(`          it.printf(${l}, ${t.y} + ${h+5}, id(${m}), ${p}, TextAlign::TOP_CENTER, "--${f}");`),e.push("        }")}else e.push(`          it.printf(${l}, ${t.y} + ${h+5}, id(${m}), ${p}, TextAlign::TOP_CENTER, "--${f}");`);if(i.show_label){const y=a("Roboto",400,i.label_font_size||10);e.push(`        it.printf(${l}, ${t.y} + ${h+_+8}, id(${y}), ${p}, TextAlign::TOP_CENTER, "Temperature");`)}b&&e.push("        }")},onExportNumericSensors:t=>{const{lines:c,widgets:e,profile:o}=t;if(!e)return;const d=new Set;let s=!1;for(const a of e){if(a.type!=="ondevice_temperature")continue;const n=a.props||{};if(n.is_local_sensor===!0||n.is_local_sensor!==!1&&!a.entity_id){s=!0;continue}let i=(a.entity_id||"").trim();if(i&&(i.includes(".")||(i=`sensor.${i}`),!d.has(i))){d.add(i);const p=i.replace(/[^a-zA-Z0-9_]/g,"_");c.push("- platform: homeassistant",`  id: ${p}`,`  entity_id: ${i}`,"  internal: true")}}if(s&&o.features){const a=!!o.features.sht4x,n=!!o.features.sht3x,i=!!o.features.shtc3;if(a||n||i){const p=a?"sht4x_sensor":n?"sht3x_sensor":"shtc3_sensor",f=a?"sht4x":n?"sht3xd":"shtcx",h=a?"sht4x_temperature":n?"sht3x_temperature":"shtc3_temperature";c.some(_=>_.includes(`id: ${p}`))||(c.push(`- platform: ${f}`,`  id: ${p}`),c.push("  temperature:",`    id: ${h}`,"    internal: true"),c.push("  update_interval: 60s"),f==="shtcx"&&!c.some(_=>_.includes("address: 0x70"))&&(c.push("    address: 0x70"),c.push("    i2c_id: bus_a")),f==="sht3xd"&&!c.some(_=>_.includes("address: 0x44"))&&c.push("    address: 0x44"))}}}};export{E as default};
