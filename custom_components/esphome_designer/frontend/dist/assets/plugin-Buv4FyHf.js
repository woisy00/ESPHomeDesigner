const a=(i,o,{getColorStyle:l})=>{const t=o.props||{};let s=t.text||"Label";if(o.entity_id||t.entity_id){const n=o.entity_id||t.entity_id;window.AppState&&window.AppState.entityStates&&window.AppState.entityStates[n]?s=String(window.AppState.entityStates[n].state):s="{"+n.split(".").pop()+"}"}i.innerText=s,i.style.fontSize=(t.font_size||20)+"px",i.style.color=l(t.color||"black"),i.style.backgroundColor=t.bg_color||"transparent",i.style.display="flex";const e=t.text_align||"CENTER";e.includes("LEFT")?i.style.justifyContent="flex-start":e.includes("RIGHT")?i.style.justifyContent="flex-end":i.style.justifyContent="center",e.includes("TOP")?i.style.alignItems="flex-start":e.includes("BOTTOM")?i.style.alignItems="flex-end":i.style.alignItems="center",i.style.fontFamily=t.font_family==="Custom..."?t.custom_font_family||"sans-serif":t.font_family||"sans-serif",t.italic&&(i.style.fontStyle="italic"),i.style.fontWeight=t.font_weight||400,i.style.whiteSpace="pre-wrap",i.style.overflow="hidden",i.style.opacity=(t.opa!==void 0?t.opa:255)/255},r=(i,{common:o,convertColor:l,convertAlign:t,getLVGLFont:s,formatOpacity:e})=>{const n=i.props||{};return{label:{...o,text:`"${n.text||"Label"}"`,text_font:s(n.font_family,n.font_size,n.font_weight,n.italic),text_color:l(n.color||n.text_color),text_align:t(n.text_align),bg_color:n.bg_color==="transparent"?void 0:l(n.bg_color),opa:e(n.opa)}}},f={id:"lvgl_label",name:"Label",category:"LVGL",defaults:{text:"Label",font_size:20,font_family:"Roboto",color:"black",font_weight:400,italic:!1,text_align:"CENTER",bg_color:"transparent",opa:255,entity_id:""},render:a,exportLVGL:r,onExportNumericSensors:i=>{const{widgets:o,isLvgl:l,pendingTriggers:t}=i;if(o)for(const s of o){if(s.type!=="lvgl_label")continue;let e=(s.entity_id||s.props?.entity_id||"").trim();!e||e.startsWith("text_sensor.")||e.startsWith("weather.")||(e.includes(".")||(e=`sensor.${e}`),l&&t&&(t.has(e)||t.set(e,new Set),t.get(e).add("- lvgl.label.update:"),t.get(e).add(`  id: ${s.id}`),t.get(e).add('  text: !lambda "return str_sprintf(\\"%.1f\\", x).c_str();"')))}},onExportTextSensors:i=>{const{widgets:o,isLvgl:l,pendingTriggers:t}=i;if(o)for(const s of o){if(s.type!=="lvgl_label")continue;let e=(s.entity_id||s.props?.entity_id||"").trim();!e||!(e.startsWith("text_sensor.")||e.startsWith("weather."))||l&&t&&(t.has(e)||t.set(e,new Set),t.get(e).add("- lvgl.label.update:"),t.get(e).add(`  id: ${s.id}`),t.get(e).add('  text: !lambda "return x.c_str();"'))}}};export{f as default};
