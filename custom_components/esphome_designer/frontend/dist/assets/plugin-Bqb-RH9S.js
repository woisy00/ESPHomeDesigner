const Z=(i,u,{getColorStyle:a})=>{const t=u.props||{},e=document.createElementNS("http://www.w3.org/2000/svg","svg");e.style.width="100%",e.style.height="100%";const o=u.width/2,c=u.height/2,N=Math.min(o,c)-10,x=t.min||0,f=t.max||100,C=t.value!==void 0?t.value:x,l=parseInt(t.scale_width||10,10),M=parseInt(t.indicator_width||4,10),y=parseInt(t.tick_count||11,10),v=parseInt(t.tick_length||10,10),h=135,k=270,I=h+k,$=s=>s*(Math.PI/180),n=N-Math.max(l,v)/2,g=(s,d,w)=>s+d*Math.cos($(w)),b=(s,d,w)=>s+d*Math.sin($(w)),G=g(o,n,h),S=b(c,n,h),T=g(o,n,I),V=b(c,n,I),P=`M ${G} ${S} A ${n} ${n} 0 1 1 ${T} ${V}`,p=document.createElementNS("http://www.w3.org/2000/svg","path");if(p.setAttribute("d",P),p.setAttribute("fill","none"),p.setAttribute("stroke",a(t.bg_color||"lightgray")),p.setAttribute("stroke-width",l),p.setAttribute("stroke-linecap","round"),e.appendChild(p),y>1){const s=document.createElementNS("http://www.w3.org/2000/svg","g");s.setAttribute("stroke",a(t.color||"black")),s.setAttribute("stroke-width","2px");for(let d=0;d<y;d++){const w=d/(y-1),_=h+k*w,z=g(o,n-l/2,_),H=b(c,n-l/2,_),X=g(o,n-l/2-v,_),Y=b(c,n-l/2-v,_),A=document.createElementNS("http://www.w3.org/2000/svg","line");A.setAttribute("x1",z),A.setAttribute("y1",H),A.setAttribute("x2",X),A.setAttribute("y2",Y),s.appendChild(A)}e.appendChild(s)}let E=0;f>x&&(E=(C-x)/(f-x));const L=h+k*E,R=g(o,n-10,L),W=b(c,n-10,L),r=document.createElementNS("http://www.w3.org/2000/svg","line");r.setAttribute("x1",o),r.setAttribute("y1",c),r.setAttribute("x2",R),r.setAttribute("y2",W),r.setAttribute("stroke",a(t.indicator_color||"red")),r.setAttribute("stroke-width",M),r.setAttribute("stroke-linecap","round"),e.appendChild(r);const m=document.createElementNS("http://www.w3.org/2000/svg","circle");m.setAttribute("cx",o),m.setAttribute("cy",c),m.setAttribute("r",M),m.setAttribute("fill",a(t.indicator_color||"red")),e.appendChild(m),i.innerHTML="",i.appendChild(e),i.style.opacity=(t.opa!==void 0?t.opa:255)/255},j=(i,{common:u,convertColor:a,formatOpacity:t})=>{const e=i.props||{};let o=e.value||0;return i.entity_id&&(o=`!lambda "return id(${i.entity_id.replace(/[^a-zA-Z0-9_]/g,"_")}).state;"`),{meter:{...u,value:o,min_value:e.min||0,max_value:e.max||100,bg_color:a(e.bg_color||"lightgray"),indicator:{color:a(e.indicator_color||"red")},opa:t(e.opa)}}},B={id:"lvgl_meter",name:"Meter",category:"LVGL",defaults:{width:140,height:140,value:0,min:0,max:100,bg_color:"lightgray",color:"black",indicator_color:"red",opa:255},render:Z,exportLVGL:j};export{B as default};
