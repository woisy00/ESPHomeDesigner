const v=(n,o,s,t)=>{var a=(t-90)*Math.PI/180;return{x:n+s*Math.cos(a),y:o+s*Math.sin(a)}},A=(n,o,s,t,a)=>{const i=v(n,o,s,a),c=v(n,o,s,t),d=a-t<=180?"0":"1";return["M",i.x,i.y,"A",s,s,0,d,0,c.x,c.y].join(" ")},k=(n,o,{getColorStyle:s})=>{const t=o.props||{},a=o.width||100,i=o.height||100,c=s(t.color||"black"),d=parseInt(t.thickness||10,10);n.innerHTML="";const l=document.createElementNS("http://www.w3.org/2000/svg","svg");l.setAttribute("width","100%"),l.setAttribute("height","100%"),l.setAttribute("viewBox",`0 0 ${a} ${i}`),l.style.overflow="visible";const g=a/2,b=i/2,w=Math.min(a,i)/2-d/2,r=document.createElementNS("http://www.w3.org/2000/svg","path");r.setAttribute("d",A(g,b,w,-135,135)),r.setAttribute("fill","none"),r.setAttribute("stroke","#eee"),r.setAttribute("stroke-width",d),r.setAttribute("stroke-linecap","round"),l.appendChild(r);const p=t.min||0,h=t.max||100;let u=t.value!==void 0?t.value:50;const f=o.entity_id;if(f&&window.AppState&&window.AppState.entityStates){const e=window.AppState.entityStates[f];if(e&&e.state!==void 0){const y=parseFloat(e.state);isNaN(y)||(u=y)}}u=Math.max(p,Math.min(h,u));const _=270;let m=0;h>p&&(m=(u-p)/(h-p));const x=-135+m*_;if(m>.01){const e=document.createElementNS("http://www.w3.org/2000/svg","path");e.setAttribute("d",A(g,b,w,-135,x)),e.setAttribute("fill","none"),e.setAttribute("stroke",c),e.setAttribute("stroke-width",d),e.setAttribute("stroke-linecap","round"),l.appendChild(e)}if(n.appendChild(l),t.title){const e=document.createElement("div");e.textContent=t.title,e.style.position="absolute",e.style.top="50%",e.style.left="50%",e.style.transform="translate(-50%, -50%)",e.style.fontFamily="Roboto, sans-serif",e.style.fontSize="14px",e.style.color=c,e.style.pointerEvents="none",n.style.position="relative",n.appendChild(e)}},S=(n,{common:o,convertColor:s})=>{const t=n.props||{};let a=t.value||0;return n.entity_id&&(a=`!lambda "return id(${n.entity_id.replace(/[^a-zA-Z0-9_]/g,"_")}).state;"`),{arc:{...o,value:a,min_value:t.min||0,max_value:t.max||100,arc_width:t.thickness,arc_color:s(t.color),indicator:{arc_color:s(t.color)},start_angle:t.start_angle,end_angle:t.end_angle,mode:t.mode,widgets:[{label:{align:"CENTER",text:`"${t.title||""}"`,text_color:s(t.color)}}]}}},M={id:"lvgl_arc",name:"Arc",category:"LVGL",defaults:{value:50,min:0,max:100,thickness:10,color:"blue",title:"",start_angle:135,end_angle:45,mode:"NORMAL"},render:k,exportLVGL:S};export{M as default};
