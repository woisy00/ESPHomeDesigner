const h=(t,c,{getColorStyle:i})=>{const o=c.props||{};t.innerHTML="",t.style.display="flex",((e,s=t)=>{e.includes("LEFT")?s.style.justifyContent="flex-start":e.includes("RIGHT")?s.style.justifyContent="flex-end":s.style.justifyContent="center",e.includes("TOP")?s.style.alignItems="flex-start":e.includes("BOTTOM")?s.style.alignItems="flex-end":s.style.alignItems="center"})(o.text_align||"TOP_LEFT");const n=document.createElement("div");n.style.color=i(o.color),n.style.fontSize=`${o.font_size||o.value_font_size||20}px`,n.style.fontFamily=(o.font_family||"Roboto")+", sans-serif",n.style.fontWeight=String(o.font_weight||400),n.style.fontStyle=o.italic?"italic":"normal",n.textContent=o.text||c.title||"Text",t.appendChild(n)},E=(t,{common:c,convertColor:i,convertAlign:o,getLVGLFont:f,formatOpacity:n})=>{const e=t.props||{};return{label:{...c,text:`"${e.text||"Text"}"`,text_font:f(e.font_family,e.font_size,e.font_weight,e.italic),text_color:i(e.color||e.text_color),text_align:(o(e.text_align)||"LEFT").replace("TOP_","").replace("BOTTOM_",""),bg_color:e.bg_color==="transparent"?void 0:i(e.bg_color),opa:n(e.opa)}}},O={id:"text",name:"Text",category:"Core",defaults:{text:"Text",font_size:20,font_family:"Roboto",color:"black",font_weight:400,italic:!1,bpp:1,text_align:"TOP_LEFT",bg_color:"transparent",opa:255},render:h,exportLVGL:E,export:(t,c)=>{const{lines:i,getColorConst:o,addFont:f,getAlignX:n,getAlignY:e,getCondProps:s,getConditionCheck:d}=c,a=t.props||{},g=o(a.color||"black"),y=a.font_size||a.value_font_size||20,u=f(a.font_family||"Roboto",a.font_weight||400,y,a.italic),_=a.text||t.title||"Text",r=a.text_align||"TOP_LEFT";i.push(`        // widget:text id:${t.id} type:text x:${t.x} y:${t.y} w:${t.width} h:${t.height} text:"${_}" ${s(t)}`);const x=d(t);x&&i.push(`        ${x}`);let T=t.x,p=t.y,l="TextAlign::TOP_LEFT";r.includes("CENTER")?(T=Math.round(t.x+t.width/2),l="TextAlign::TOP_CENTER"):r.includes("RIGHT")&&(T=Math.round(t.x+t.width),l="TextAlign::TOP_RIGHT"),r.includes("BOTTOM")?(p=Math.round(t.y+t.height),l=l.replace("TOP_","BOTTOM_")):r.includes("TOP")||(p=Math.round(t.y+t.height/2),l=l.replace("TOP_","CENTER_")),l==="TextAlign::CENTER_CENTER"&&(l="TextAlign::CENTER"),i.push(`        it.printf(${T}, ${p}, id(${u}), ${g}, ${l}, "${_.replace(/"/g,'\\"')}");`),x&&i.push("        }")}};export{O as default};
