const m=(t,e,{getColorStyle:i})=>{const o=e.props||{};t.innerHTML="",t.style.backgroundColor=i(o.background||"white"),t.style.border=`1px solid ${i(o.outline||"#ccc")}`,t.style.borderRadius="2px",t.style.overflow="hidden";const a=document.createElementNS("http://www.w3.org/2000/svg","svg");a.style.width="100%",a.style.height="100%",a.setAttribute("viewBox",`0 0 ${e.width} ${e.height}`);const c="#e0e0e0";for(let s=0;s<=e.height;s+=e.height/4){const r=document.createElementNS("http://www.w3.org/2000/svg","line");r.setAttribute("x1",0),r.setAttribute("y1",s),r.setAttribute("x2",e.width),r.setAttribute("y2",s),r.setAttribute("stroke",c),r.setAttribute("stroke-width",.5),a.appendChild(r)}const p=o.data||[{entity:"sensor.temperature",color:"black",width:1}];(Array.isArray(p)?p:[p]).forEach((s,r)=>{const y=i(s.color||"black"),b=s.width||1,d=document.createElementNS("http://www.w3.org/2000/svg","path");let u="";const l=50;for(let h=0;h<=l;h++){const x=h/l*e.width,g=e.height/2+Math.sin(h/l*4*Math.PI+r)*(e.height/3);u+=(h===0?"M":"L")+` ${x} ${g}`}d.setAttribute("d",u),d.setAttribute("fill","none"),d.setAttribute("stroke",y),d.setAttribute("stroke-width",b),a.appendChild(d)});const n=document.createElement("div");n.style.position="absolute",n.style.bottom="2px",n.style.right="4px",n.style.fontSize="8px",n.style.color="#666",n.textContent=`Plot: ${o.duration?o.duration/3600+"h":"10h"}`,t.appendChild(a),t.appendChild(n)},A={id:"odp_plot",name:"Sensor Plot",category:"OpenDisplay",supportedModes:["oepl","opendisplay"],defaults:{width:200,height:100,duration:36e3,data:[{entity:"sensor.temperature",color:"black",width:1}],background:"white",outline:"#ccc"},render:m,exportOpenDisplay:(t,{layout:e,page:i})=>{const o=t.props||{};return{type:"plot",visible:!0,x_start:Math.round(t.x),y_start:Math.round(t.y),x_end:Math.round(t.x+t.width),y_end:Math.round(t.y+t.height),duration:o.duration||36e3,data:o.data||[{entity:"sensor.temperature",color:"black",width:1}]}},exportOEPL:(t,{layout:e,page:i})=>{const o=t.props||{};return{type:"plot",x_start:Math.round(t.x),y_start:Math.round(t.y),x_end:Math.round(t.x+t.width),y_end:Math.round(t.y+t.height),duration:o.duration||36e3,data:o.data||[{entity:"sensor.temperature",color:"black",width:1}]}}};export{A as default};
