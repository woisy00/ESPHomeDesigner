const C=(t,m,{getColorStyle:e})=>{const n=m.props||{};t.innerHTML="",t.style.display="flex",t.style.flexDirection="column",t.style.justifyContent="center",t.style.alignItems="center";const d=e(n.color),f=(n.font_family||"Roboto")+", sans-serif",l=n.text_align||"CENTER";((r,c)=>{r==="LEFT"?c.style.alignItems="flex-start":r==="RIGHT"?c.style.alignItems="flex-end":c.style.alignItems="center"})(l,t);const o=n.format||"time_date",i=document.createElement("div");i.style.fontSize=`${n.time_font_size||28}px`,i.style.color=d,i.style.fontFamily=f,i.style.fontWeight="bold",i.textContent="12:34";const s=document.createElement("div");s.style.fontSize=`${n.date_font_size||16}px`,s.style.color=d,s.style.fontFamily=f,s.style.opacity="0.8",s.textContent="Monday, Jan 1",o==="time_only"?t.appendChild(i):o==="date_only"?(s.textContent="01.01.2024",t.appendChild(s)):o==="weekday_day_month"?(s.textContent="Monday 01 January",t.appendChild(s)):(t.appendChild(i),t.appendChild(s))},T={id:"datetime",name:"Date & Time",category:"Core",defaults:{format:"time_date",time_font_size:28,date_font_size:16,color:"black",italic:!1,font_family:"Roboto",text_align:"CENTER"},render:C,exportLVGL:(t,{common:m,convertColor:e,convertAlign:n,getLVGLFont:d,formatOpacity:f})=>{const l=t.props||{},a=l.format||"time_date";let o="%H:%M";a==="date_only"?o="%d.%m.%Y":a==="weekday_day_month"?o="%A %d %B":a==="time_date"&&(o="%H:%M\\n%a, %b %d");let i=`!lambda |-
`;i+=`              auto now = id(ha_time).now();
`,i+=`              return now.strftime("${o}").c_str();`;const s=a==="date_only"||a==="weekday_day_month",r=s?l.date_font_size||16:l.time_font_size||28,c=s?400:700;return{label:{...m,text:i,text_font:d(l.font_family,r,c,l.italic),text_color:e(l.color),text_align:(n(l.text_align)||"CENTER").replace("TOP_","").replace("BOTTOM_",""),opa:f(l.opa)}}},collectRequirements:(t,m)=>{const{addFont:e}=m,n=t.props||{},d=parseInt(n.time_font_size||28,10),f=parseInt(n.date_font_size||16,10);e(n.font_family||"Roboto",700,d,!!n.italic),e(n.font_family||"Roboto",400,f,!!n.italic)},export:(t,m)=>{const{lines:e,getColorConst:n,addFont:d,getCondProps:f,getConditionCheck:l,getAlignY:a}=m,o=t.props||{},i=n(o.color||"black"),s=parseInt(o.time_font_size||28,10),r=parseInt(o.date_font_size||16,10),c=d(o.font_family||"Roboto",700,s,!!o.italic),x=d(o.font_family||"Roboto",400,r,!!o.italic),h=o.text_align||"CENTER",$=o.format||"time_date";e.push(`        // widget:datetime id:${t.id} type:datetime x:${t.x} y:${t.y} w:${t.width} h:${t.height} fmt:${$} ${f(t)}`);const g=l(t);g&&e.push(`        ${g}`),e.push("        {"),e.push("          auto now = id(ha_time).now();");let y=Math.round(t.x+t.width/2),_="TextAlign::CENTER";if(h==="LEFT"?(y=t.x,_="TextAlign::TOP_LEFT"):h==="RIGHT"&&(y=t.x+t.width,_="TextAlign::TOP_RIGHT"),$==="time_only"){const p=a?a(h,t.y,t.height):t.y;e.push(`          it.strftime(${y}, ${p}, id(${c}), ${i}, ${_}, "%H:%M", now);`)}else if($==="date_only"){const p=a?a(h,t.y,t.height):t.y;e.push(`          it.strftime(${y}, ${p}, id(${x}), ${i}, ${_}, "%d.%m.%Y", now);`)}else if($==="weekday_day_month"){const p=a?a(h,t.y,t.height):t.y;e.push(`          it.strftime(${y}, ${p}, id(${x}), ${i}, ${_}, "%A %d %B", now);`)}else{const p=s+r+2,u=Math.round(t.y+(t.height-p)/2);e.push(`          it.strftime(${y}, ${u}, id(${c}), ${i}, ${_}, "%H:%M", now);`),e.push(`          it.strftime(${y}, ${u} + ${s} + 2, id(${x}), ${i}, ${_}, "%a, %b %d", now);`)}e.push("        }"),g&&e.push("        }")}};export{T as default};
