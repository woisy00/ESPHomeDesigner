const m=(e,l,{getColorStyle:a})=>{const o=l.props||{};e.innerHTML="";let t=o.points||[[0,0],[50,0],[50,50],[0,50]];if(typeof t=="string")try{t=JSON.parse(t)}catch{t=[[0,0],[50,0],[50,50],[0,50]]}const i=document.createElementNS("http://www.w3.org/2000/svg","svg");i.style.width="100%",i.style.height="100%",i.style.position="absolute",i.style.top="0",i.style.left="0";let n=1/0,s=1/0,h=-1/0,c=-1/0;t.forEach(([p,d])=>{n=Math.min(n,p),s=Math.min(s,d),h=Math.max(h,p),c=Math.max(c,d)});const y=l.width/(h-n||1),u=l.height/(c-s||1),f=Math.min(y,u),g=t.map(([p,d])=>[(p-n)*f,(d-s)*f]),r=document.createElementNS("http://www.w3.org/2000/svg","polygon");r.setAttribute("points",g.map(p=>p.join(",")).join(" ")),r.setAttribute("fill",o.fill?a(o.fill):"transparent"),r.setAttribute("stroke",a(o.outline||"black")),r.setAttribute("stroke-width",o.border_width||1),i.appendChild(r),e.appendChild(i)},b={id:"odp_polygon",name:"Polygon",category:"OpenDisplay",supportedModes:["oepl","opendisplay"],defaults:{width:100,height:100,points:[[0,0],[100,0],[100,100],[0,100]],fill:"red",outline:"black",border_width:1},render:m,exportOpenDisplay:(e,{layout:l,page:a})=>{const o=e.props||{};let t=o.points||[[0,0],[50,0],[50,50],[0,50]];if(typeof t=="string")try{t=JSON.parse(t)}catch{t=[[0,0],[50,0],[50,50],[0,50]]}return{type:"polygon",visible:!0,points:t.map(([n,s])=>[Math.round(e.x+n),Math.round(e.y+s)]),fill:o.fill||"red",outline:o.outline||"black",width:o.border_width||1}},exportOEPL:(e,{layout:l,page:a})=>{const o=e.props||{};let t=o.points||[[0,0],[50,0],[50,50],[0,50]];if(typeof t=="string")try{t=JSON.parse(t)}catch{t=[[0,0],[50,0],[50,50],[0,50]]}return{type:"polygon",points:t.map(([n,s])=>[Math.round(e.x+n),Math.round(e.y+s)]),fill:o.fill||"red",outline:o.outline||"black",width:o.border_width||1}}};export{b as default};
