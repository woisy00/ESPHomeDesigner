const O=(t,r,{getColorStyle:i})=>{const o=r.props||{};t.innerHTML="",t.style.display="flex",((e,s=t)=>{e.includes("LEFT")?s.style.justifyContent="flex-start":e.includes("RIGHT")?s.style.justifyContent="flex-end":s.style.justifyContent="center",e.includes("TOP")?s.style.alignItems="flex-start":e.includes("BOTTOM")?s.style.alignItems="flex-end":s.style.alignItems="center"})(o.text_align||"TOP_LEFT");const n=document.createElement("div");n.style.color=i(o.color),n.style.fontSize=`${o.font_size||o.value_font_size||20}px`,n.style.fontFamily=(o.font_family||"Roboto")+", sans-serif",n.style.fontWeight=String(o.font_weight||400),n.style.fontStyle=o.italic?"italic":"normal",n.textContent=o.text||r.title||"Text",t.appendChild(n)},b=(t,{common:r,convertColor:i,convertAlign:o,getLVGLFont:c,formatOpacity:n})=>{const e=t.props||{};return{label:{...r,text:`"${e.text||"Text"}"`,text_font:c(e.font_family,e.font_size,e.font_weight,e.italic),text_color:i(e.color||e.text_color),text_align:(o(e.text_align)||"left").replace("top_","").replace("bottom_",""),bg_color:e.bg_color==="transparent"?void 0:i(e.bg_color),opa:n(e.opa)}}},R={id:"text",name:"Text",category:"Core",defaults:{text:"Text",font_size:20,font_family:"Roboto",color:"black",font_weight:400,italic:!1,bpp:1,text_align:"TOP_LEFT",bg_color:"transparent",opa:255},render:O,exportLVGL:b,export:(t,r)=>{const{lines:i,getColorConst:o,addFont:c,getAlignX:n,getAlignY:e,getCondProps:s,getConditionCheck:h,Utils:p,isEpaper:u}=r,a=t.props||{},d=a.color||"black",C=a.font_size||a.value_font_size||20,E=c(a.font_family||"Roboto",a.font_weight||400,C,a.italic),g=a.text||t.title||"Text",f=a.text_align||"TOP_LEFT",y=u&&p&&p.isGrayColor&&p.isGrayColor(d),$=y?"COLOR_BLACK":o(d);i.push(`        // widget:text id:${t.id} type:text x:${t.x} y:${t.y} w:${t.width} h:${t.height} text:"${g}" ${s(t)}`);const x=h(t);x&&i.push(`        ${x}`);let _=t.x,T=t.y,l="TextAlign::TOP_LEFT";f.includes("CENTER")?(_=Math.round(t.x+t.width/2),l="TextAlign::TOP_CENTER"):f.includes("RIGHT")&&(_=Math.round(t.x+t.width),l="TextAlign::TOP_RIGHT"),f.includes("BOTTOM")?(T=Math.round(t.y+t.height),l=l.replace("TOP_","BOTTOM_")):f.includes("TOP")||(T=Math.round(t.y+t.height/2),l=l.replace("TOP_","CENTER_")),l==="TextAlign::CENTER_CENTER"&&(l="TextAlign::CENTER"),i.push(`        it.printf(${_}, ${T}, id(${E}), ${$}, ${l}, "${g.replace(/"/g,'\\"')}");`),y&&i.push(`        apply_grey_dither_to_text(${t.x}, ${t.y}, ${t.width}, ${t.height});`),x&&i.push("        }")}};export{R as default};
