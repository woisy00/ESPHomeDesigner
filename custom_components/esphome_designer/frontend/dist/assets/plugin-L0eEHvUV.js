const l=(e,r,{getColorStyle:d})=>{const i=r.props||{};e.innerHTML="",e.style.display="flex",e.style.alignItems="center",e.style.boxSizing="border-box",e.style.backgroundColor="#fff",e.style.border="1px solid #999",e.style.borderRadius="3px",e.style.padding="0 10px";let t=i.options||`Option 1
Option 2
Option 3`;typeof t=="string"?t=t.split(`
`):Array.isArray(t)||(t=["Option 1","Option 2","Option 3"]);const o=i.selected_index||0,p=t[Math.min(o,t.length-1)]||"Select...",n=document.createElement("span");n.textContent=p,n.style.flex="1",n.style.color="#000",n.style.fontSize="14px",n.style.fontFamily="Roboto, sans-serif",n.style.overflow="hidden",n.style.textOverflow="ellipsis",n.style.whiteSpace="nowrap",e.appendChild(n);const s=document.createElement("span");s.textContent="â–¼",s.style.color="#000",s.style.fontSize="10px",s.style.marginLeft="10px",e.appendChild(s)},a=(e,{common:r,convertColor:d,formatOpacity:i})=>{const t=e.props||{};let o=t.options||"";Array.isArray(o)?o=o.map(String):o=String(o).split(`
`).filter(s=>s.trim()!=="");let p=t.selected_index;e.entity_id&&(p=`!lambda "return (int)id(${e.entity_id.replace(/[^a-zA-Z0-9_]/g,"_")}).state;"`);const n={DOWN:"BOTTOM",UP:"TOP",LEFT:"LEFT",RIGHT:"RIGHT"};return{dropdown:{...r,options:o,selected_index:p,text_color:d(t.color),dir:n[t.direction]||t.direction||"BOTTOM",dropdown_list:{max_height:t.max_height},opa:i(t.opa)}}},c=e=>{const{widgets:r,isLvgl:d,pendingTriggers:i}=e;if(r)for(const t of r){if(t.type!=="lvgl_dropdown")continue;const o=(t.entity_id||t.props?.entity_id||"").trim();o&&d&&i&&(i.has(o)||i.set(o,new Set),i.get(o).add(`- lvgl.widget.refresh: ${t.id}`))}},y={id:"lvgl_dropdown",name:"Dropdown",category:"LVGL",defaults:{options:`Option 1
Option 2
Option 3`,selected_index:0,color:"black",direction:"DOWN",max_height:200,opa:255},render:l,exportLVGL:a,onExportNumericSensors:c};export{y as default};
