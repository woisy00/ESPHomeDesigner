const g=(e,o,{getColorStyle:i})=>{const t=o.props||{};if(e.style.backgroundColor=t.color||"rgba(0, 0, 255, 0.2)",e.style.border=`1px dashed ${t.border_color||"#0000ff"}`,e.style.display="flex",e.style.flexDirection="column",e.style.alignItems="center",e.style.justifyContent="center",e.style.color=t.icon_color?i(t.icon_color):t.border_color||"#0000ff",e.style.fontSize="12px",e.style.fontWeight="bold",e.style.overflow="hidden",t.icon){const a=s=>{const r=(s||"").trim().replace("mdi:","").toUpperCase();if(/^F[0-9A-F]{4}$/i.test(r)){const c=983040+parseInt(r.slice(1),16);return String.fromCodePoint(c)}if(window.iconPickerData){const c=(s||"").trim().replace("mdi:","").toLowerCase(),l=window.iconPickerData.find(d=>d.name===c);if(l){const d=983040+parseInt(l.code.slice(1),16);return String.fromCodePoint(d)}}return null},n=a(t.icon),p=t.icon_pressed?a(t.icon_pressed):null;if(n){const s=document.createElement("span");if(s.innerText=n,s.style.fontFamily="MDI, system-ui, sans-serif",s.style.fontSize=(t.icon_size||40)+"px",s.style.lineHeight="1",s.style.color=t.icon_color?i(t.icon_color):t.border_color||"#0000ff",e.appendChild(s),p&&(e.style.cursor="pointer",e.addEventListener("mouseenter",()=>{s.innerText=p,t.color&&t.color.startsWith("rgba")?e.style.backgroundColor=t.color.replace(/[\d.]+\)$/,"0.4)"):e.style.backgroundColor="rgba(0, 0, 255, 0.4)"}),e.addEventListener("mouseleave",()=>{s.innerText=n,e.style.backgroundColor=t.color||"rgba(0, 0, 255, 0.2)"})),t.title&&o.height>(t.icon_size||40)+20){const r=document.createElement("div");r.innerText=t.title,r.style.fontSize="10px",r.style.marginTop="2px",e.appendChild(r)}}else e.innerText=t.title||o.entity_id||"Touch Area"}else e.innerText=t.title||o.entity_id||"Touch Area"},y=(e,o)=>{const{lines:i,addFont:t,getColorConst:a,getCondProps:n,getConditionCheck:p}=o,s=e.props||{},r=(s.icon||"").replace("mdi:","").toUpperCase(),c=(s.icon_pressed||"").replace("mdi:","").toUpperCase(),l=parseInt(s.icon_size||40,10),d=s.icon_color||"theme_auto",h=a(d);i.push(`        // widget:touch_area id:${e.id} type:touch_area x:${e.x} y:${e.y} w:${e.width} h:${e.height} icon:"${s.icon||""}" icon_pressed:"${s.icon_pressed||""}" icon_size:${l} icon_color:${d} ${n(e)}`);const _=p(e);if(_&&i.push(`        ${_}`),r){const u=t("Material Design Icons",400,l),f=(e.entity_id||`touch_area_${e.id.replace(/-/g,"_")}`).replace(/[^a-zA-Z0-9_]/g,"_");c?(i.push(`        if (id(${f}).state) {`),i.push(`          it.printf(${e.x} + ${e.width}/2, ${e.y} + ${e.height}/2, id(${u}), ${h}, TextAlign::CENTER, "\\U000${c}");`),i.push("        } else {"),i.push(`          it.printf(${e.x} + ${e.width}/2, ${e.y} + ${e.height}/2, id(${u}), ${h}, TextAlign::CENTER, "\\U000${r}");`),i.push("        }")):i.push(`        it.printf(${e.x} + ${e.width}/2, ${e.y} + ${e.height}/2, id(${u}), ${h}, TextAlign::CENTER, "\\U000${r}");`)}_&&i.push("        }")},$=e=>{const{lines:o,widgets:i,profile:t}=e,a=i.filter(n=>n.type==="touch_area"||n.type==="nav_next_page"||n.type==="nav_previous_page"||n.type==="nav_reload_page");a.length!==0&&(o.push("# Touch Area Binary Sensors"),a.forEach(n=>{const p=n.props||{},s=(n.entity_id||`touch_area_${n.id.replace(/-/g,"_")}`).replace(/[^a-zA-Z0-9_]/g,"_");o.push("- platform: touchscreen"),o.push(`  id: ${s}`),o.push("  touchscreen_id: my_touchscreen"),o.push(`  x_min: ${n.x}`),o.push(`  x_max: ${n.x+n.width}`),o.push(`  y_min: ${n.y}`),o.push(`  y_max: ${n.y+n.height}`);const r=p.nav_action||"none",c=n._pageIndex!==void 0?n._pageIndex:0;(r!=="none"||n.entity_id)&&(o.push("  on_press:"),o.push("    - if:"),o.push("        condition:"),o.push(`          lambda: 'return id(display_page) == ${c};'`),o.push("        then:"),r==="next_page"?(o.push("          - script.execute:"),o.push("              id: change_page_to"),o.push("              target_page: !lambda 'return id(display_page) + 1;'")):r==="previous_page"?(o.push("          - script.execute:"),o.push("              id: change_page_to"),o.push("              target_page: !lambda 'return id(display_page) - 1;'")):r==="reload_page"?o.push("          - script.execute: manage_run_and_sleep"):n.entity_id&&(o.push("          - homeassistant.service:"),o.push("              service: homeassistant.toggle"),o.push("              data:"),o.push(`                entity_id: ${n.entity_id}`)))}))},x=(e,{trackIcon:o})=>{const i=e.props||{};i.icon&&o(i.icon,i.icon_size||40),i.icon_pressed&&o(i.icon_pressed,i.icon_size||40)},m={id:"touch_area",name:"Touch Area",category:"Controls",supportedModes:["direct"],defaults:{title:"",icon:"",icon_pressed:"",icon_size:40,icon_color:"theme_auto",color:"rgba(0, 0, 255, 0.15)",border_color:"#0000ff",on_click:""},render:g,collectRequirements:x,onExportBinarySensors:$,export:y};export{m as default};
