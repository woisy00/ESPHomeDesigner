const F=(n,i,{getColorStyle:e})=>{const r=i.props||{};let t="F0595",a=r.size||24;const p=r.color||"black";let o="sunny";const s=i.entity_id||r.weather_entity||"weather.forecast_home";if(window.AppState&&window.AppState.entityStates){const h=window.AppState.entityStates[s],c=h&&h.state!==void 0?h.state:null;c!=null&&(o=String(c).toLowerCase())}if(r.fit_icon_to_frame){const c=Math.max(8,Math.min((i.width||0)-8,(i.height||0)-8));a=Math.round(c)}switch(o){case"clear-night":t="F0594";break;case"cloudy":t="F0590";break;case"exceptional":t="F0026";break;case"fog":t="F0591";break;case"hail":t="F0592";break;case"lightning":t="F0593";break;case"lightning-rainy":t="F067E";break;case"partlycloudy":t="F0595";break;case"pouring":t="F0596";break;case"rainy":t="F0597";break;case"snowy":t="F0598";break;case"snowy-rainy":t="F067F";break;case"sunny":t="F0599";break;case"windy":t="F059D";break;case"windy-variant":t="F059E";break;default:t="F0599"}const l=983040+parseInt(t.slice(1),16),f=String.fromCodePoint(l);n.innerText=f,n.style.fontSize=`${a}px`,n.style.color=e(p),n.style.fontFamily="MDI, system-ui, -apple-system, BlinkMacSystemFont, -sans-serif",n.style.lineHeight="1",n.style.display="flex",n.style.alignItems="center",n.style.justifyContent="center"},d=(n,i)=>{const{lines:e,addFont:r,getColorConst:t,getCondProps:a,getConditionCheck:p}=i,o=n.props||{},s=(n.entity_id||o.weather_entity||"weather.forecast_home").trim(),l=parseInt(o.size||48,10),f=o.color||"black",h=t(f),c=r("Material Design Icons",400,l);e.push(`        // widget:weather_icon id:${n.id} type:weather_icon x:${n.x} y:${n.y} w:${n.width} h:${n.height} entity:${s} size:${l} color:${f} ${a(n)}`);const u=p(n);if(u&&e.push(`        ${u}`),s){const y=s.replace(/[^a-zA-Z0-9_]/g,"_")+"_text_sensor";e.push("        {"),e.push(`          std::string weather_state = id(${y}).state;`),e.push('          const char* icon = "\\U000F0599"; // Default: sunny'),e.push('          if (weather_state == "clear-night") icon = "\\U000F0594";'),e.push('          else if (weather_state == "cloudy") icon = "\\U000F0590";'),e.push('          else if (weather_state == "exceptional") icon = "\\U000F0026";'),e.push('          else if (weather_state == "fog") icon = "\\U000F0591";'),e.push('          else if (weather_state == "hail") icon = "\\U000F0592";'),e.push('          else if (weather_state == "lightning") icon = "\\U000F0593";'),e.push('          else if (weather_state == "lightning-rainy") icon = "\\U000F067E";'),e.push('          else if (weather_state == "partlycloudy") icon = "\\U000F0595";'),e.push('          else if (weather_state == "pouring") icon = "\\U000F0596";'),e.push('          else if (weather_state == "rainy") icon = "\\U000F0597";'),e.push('          else if (weather_state == "snowy") icon = "\\U000F0598";'),e.push('          else if (weather_state == "snowy-rainy") icon = "\\U000F067F";'),e.push('          else if (weather_state == "sunny") icon = "\\U000F0599";'),e.push('          else if (weather_state == "windy") icon = "\\U000F059D";'),e.push('          else if (weather_state == "windy-variant") icon = "\\U000F059E";'),e.push(`          it.printf(${n.x}, ${n.y}, id(${c}), ${h}, "%s", icon);`),e.push("        }")}else e.push(`        it.printf(${n.x}, ${n.y}, id(${c}), ${h}, "\\U000F0595");`);u&&e.push("        }")},w=n=>{const{lines:i,widgets:e}=n;if(!e||e.length===0)return;const r=new Set;for(const t of e){if(t.type!=="weather_icon")continue;const a=(t.entity_id||t.props?.weather_entity||"weather.forecast_home").trim();a&&r.add(a)}if(r.size>0){i.push("# Weather Entity Sensors (Detected from Weather Icon)");for(const t of r){const a=t.replace(/[^a-zA-Z0-9_]/g,"_")+"_text_sensor";i.push("- platform: homeassistant"),i.push(`  id: ${a}`),i.push(`  entity_id: ${t}`),i.push("  internal: true")}i.push("")}},_=(n,{trackIcon:i})=>{const r=(n.props||{}).size||48;["F0594","F0590","F0026","F0591","F0592","F0593","F067E","F0595","F0596","F0597","F0598","F067F","F0599","F059D","F059E"].forEach(t=>i(t,r))},g={id:"weather_icon",name:"Weather Icon",category:"Sensors",defaults:{width:60,height:60,size:48,color:"black",background_color:"transparent",weather_entity:"weather.forecast_home",fit_icon_to_frame:!0},render:F,exportLVGL:(n,{common:i,convertColor:e,getLVGLFont:r})=>{const t=n.props||{},a=(n.entity_id||t.weather_entity||"weather.forecast_home").trim(),p=parseInt(t.size||48,10),o=e(t.color||"black");let s='"\\U000F0599"';if(a){const l=a.replace(/[^a-zA-Z0-9_]/g,"_")+"_text_sensor";s=`!lambda |-
`,s+=`              std::string ws = id(${l}).state;
`,s+=`              if (ws == "clear-night") return "\\U000F0594";
`,s+=`              if (ws == "cloudy") return "\\U000F0590";
`,s+=`              if (ws == "exceptional") return "\\U000F0026";
`,s+=`              if (ws == "fog") return "\\U000F0591";
`,s+=`              if (ws == "hail") return "\\U000F0592";
`,s+=`              if (ws == "lightning") return "\\U000F0593";
`,s+=`              if (ws == "lightning-rainy") return "\\U000F067E";
`,s+=`              if (ws == "partlycloudy") return "\\U000F0595";
`,s+=`              if (ws == "pouring") return "\\U000F0596";
`,s+=`              if (ws == "rainy") return "\\U000F0597";
`,s+=`              if (ws == "snowy") return "\\U000F0598";
`,s+=`              if (ws == "snowy-rainy") return "\\U000F067F";
`,s+=`              if (ws == "sunny") return "\\U000F0599";
`,s+=`              if (ws == "windy") return "\\U000F059D";
`,s+=`              if (ws == "windy-variant") return "\\U000F059E";
`,s+='              return "\\U000F0599";'}return{label:{...i,text:s,text_font:r("Material Design Icons",p,400),text_color:o,text_align:"CENTER"}}},collectRequirements:_,onExportTextSensors:w,export:d};export{g as default};
